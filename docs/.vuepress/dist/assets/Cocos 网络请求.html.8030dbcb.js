import{_ as n,o as s,c as a,e as t}from"./app.8bf42852.js";const p={},e=t(`<h1 id="cocos-\u7F51\u7EDC\u8BF7\u6C42" tabindex="-1"><a class="header-anchor" href="#cocos-\u7F51\u7EDC\u8BF7\u6C42" aria-hidden="true">#</a> Cocos \u7F51\u7EDC\u8BF7\u6C42</h1><p>\u8DE8\u57DF\u95EE\u9898\u4E0D\u5728\u672C\u7BC7\u8BA8\u8BBA\u8303\u7574</p><h3 id="ajax-\u8BF7\u6C42" tabindex="-1"><a class="header-anchor" href="#ajax-\u8BF7\u6C42" aria-hidden="true">#</a> Ajax \u8BF7\u6C42</h3><p>http://docs.cocos.com/creator/manual/zh/scripting/network.html</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> url <span class="token operator">=</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">;</span> 

<span class="token keyword">let</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 xhr<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">if</span> <span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>readyState <span class="token operator">==</span> <span class="token number">4</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>status <span class="token operator">&gt;=</span> <span class="token number">200</span> <span class="token operator">&amp;&amp;</span> xhr<span class="token punctuation">.</span>status <span class="token operator">&lt;</span> <span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">var</span> response <span class="token operator">=</span> xhr<span class="token punctuation">.</span>responseText<span class="token punctuation">;</span>
         console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">;</span>
 xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;GET&quot;</span><span class="token punctuation">,</span> url<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Cocos \u4E2D\u8FD8\u53EF\u4EE5\u901A\u8FC7 <code>cc.loader.getXMLHttpRequest()</code>\xA0\u83B7\u53D6 xhr \u5BF9\u8C61</p><p>https://docs.cocos.com/creator/api/zh/classes/loader.html#getxmlhttprequest</p><p>\u9002\u7528\u4E8E\u8BFB\u53D6\u9759\u6001 json \u914D\u7F6E, \u5411\u670D\u52A1\u5668\u63D0\u4EA4\u4FE1\u606F</p><h3 id="\u8FDC\u7A0B\u8D44\u6E90\u52A0\u8F7D" tabindex="-1"><a class="header-anchor" href="#\u8FDC\u7A0B\u8D44\u6E90\u52A0\u8F7D" aria-hidden="true">#</a> \u8FDC\u7A0B\u8D44\u6E90\u52A0\u8F7D</h3><p>https://docs.cocos.com/creator/api/zh/classes/loader.html</p><p>http://docs.cocos.com/creator/manual/zh/scripting/load-assets.html</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>cc<span class="token punctuation">.</span>loader<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&#39;http://example.com/getImageREST?file=a.png&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;png&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> tex</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    cc<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Should load a texture from RESTful API by specify the type: &#39;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>tex <span class="token keyword">instanceof</span> <span class="token class-name">cc<span class="token punctuation">.</span>Texture2D</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u9002\u7528\u4E8E\u9759\u6001\u6587\u4EF6\u8BFB\u53D6, \u4E5F\u53EF\u4EE5\u7528\u4E0E json \u6587\u4EF6\u8BFB\u53D6</p>`,13),o=[e];function c(l,u){return s(),a("div",null,o)}const r=n(p,[["render",c],["__file","Cocos \u7F51\u7EDC\u8BF7\u6C42.html.vue"]]);export{r as default};
