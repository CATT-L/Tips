<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.51">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>CentOS 中安装 PHP  7.3 | 日常小贴士</title><meta name="description" content=" ">
    <link rel="modulepreload" href="/Tips/assets/app.e4e1650e.js"><link rel="modulepreload" href="/Tips/assets/CentOS 安装 PHP 7.3.html.828f14cb.js"><link rel="modulepreload" href="/Tips/assets/CentOS 安装 PHP 7.3.html.25535387.js"><link rel="prefetch" href="/Tips/assets/index.html.7774c251.js"><link rel="prefetch" href="/Tips/assets/CentOS 优化 Linux 内核参数.html.e8557b47.js"><link rel="prefetch" href="/Tips/assets/CentOS 修改 Vim 编辑器配色.html.12ca564c.js"><link rel="prefetch" href="/Tips/assets/CentOS 修改显示主机名.html.b1121661.js"><link rel="prefetch" href="/Tips/assets/CentOS 增大 open files 的限制值.html.7bea195a.js"><link rel="prefetch" href="/Tips/assets/CentOS 安装 Composer.html.35e62ab2.js"><link rel="prefetch" href="/Tips/assets/CentOS 安装 Java 17.html.0f7a2445.js"><link rel="prefetch" href="/Tips/assets/CentOS 安装 Nginx 服务.html.c2e6b885.js"><link rel="prefetch" href="/Tips/assets/CentOS 安装 Node.js.html.1aeba3e3.js"><link rel="prefetch" href="/Tips/assets/CentOS 安装 Redis.html.acdda344.js"><link rel="prefetch" href="/Tips/assets/CentOS 安装 Squid 实现 HTTP 代理.html.3c326af9.js"><link rel="prefetch" href="/Tips/assets/CentOS 显示欢迎语.html.10361865.js"><link rel="prefetch" href="/Tips/assets/CentOS 登录时显示磁盘使用情况.html.67cc4331.js"><link rel="prefetch" href="/Tips/assets/CentOS 编译安装 PHP 的 Swoole 扩展.html.acb5b5fc.js"><link rel="prefetch" href="/Tips/assets/CentOS 设置 NFS 共享.html.74ae7df1.js"><link rel="prefetch" href="/Tips/assets/CentOS 设置 sshd 超时时间.html.e98e15b9.js"><link rel="prefetch" href="/Tips/assets/CSS 禁止文本选中.html.0314316f.js"><link rel="prefetch" href="/Tips/assets/Javascript 的几种函数声明和调用方式.html.ca816b1f.js"><link rel="prefetch" href="/Tips/assets/Nginx 证书配置 跳转 反向代理.html.1563002e.js"><link rel="prefetch" href="/Tips/assets/socket.io 无法在 vue 中直接使用的解决方法.html.8aac912e.js"><link rel="prefetch" href="/Tips/assets/vue_webpack 实现版本检查和版本更新.html.664624ea.js"><link rel="prefetch" href="/Tips/assets/适配 ios web app.html.6442c447.js"><link rel="prefetch" href="/Tips/assets/Electron打包Vue项目.html.9316bb43.js"><link rel="prefetch" href="/Tips/assets/ffmpeg 的基本用法.html.e8e4c418.js"><link rel="prefetch" href="/Tips/assets/Git Bash 不能显示中文修正.html.d688d3fb.js"><link rel="prefetch" href="/Tips/assets/Putty使用技巧.html.dc879b24.js"><link rel="prefetch" href="/Tips/assets/sublime 去除重复行.html.71eb160e.js"><link rel="prefetch" href="/Tips/assets/windows中hosts文件编辑.html.54f44b58.js"><link rel="prefetch" href="/Tips/assets/windows中编写脚本快速关机和重启.html.ab6f67bc.js"><link rel="prefetch" href="/Tips/assets/windows中通过运行快速启动软件.html.1fc3ce54.js"><link rel="prefetch" href="/Tips/assets/WinSCP使用技巧.html.77ec9e77.js"><link rel="prefetch" href="/Tips/assets/批量删除豆瓣广播.html.a8090dd9.js"><link rel="prefetch" href="/Tips/assets/给 Promise 实现 finally 方法.html.a228ccbb.js"><link rel="prefetch" href="/Tips/assets/让 Git 不再跟踪配置文件的变化.html.43c5c25f.js"><link rel="prefetch" href="/Tips/assets/Phaser 游戏引擎中场景的生命周期.html.f29d7dda.js"><link rel="prefetch" href="/Tips/assets/command.html.a357bd6d.js"><link rel="prefetch" href="/Tips/assets/controller.html.29782ed2.js"><link rel="prefetch" href="/Tips/assets/crontab.html.5f97f137.js"><link rel="prefetch" href="/Tips/assets/dao.html.b7d2e1ec.js"><link rel="prefetch" href="/Tips/assets/entity.html.7e58e87f.js"><link rel="prefetch" href="/Tips/assets/index.html.18316d41.js"><link rel="prefetch" href="/Tips/assets/service.html.1657fc2c.js"><link rel="prefetch" href="/Tips/assets/Cocos 网络请求.html.7e169e3a.js"><link rel="prefetch" href="/Tips/assets/404.html.c3e557d0.js"><link rel="prefetch" href="/Tips/assets/index.html.f7dc6e61.js"><link rel="prefetch" href="/Tips/assets/CentOS 优化 Linux 内核参数.html.ec5bcd21.js"><link rel="prefetch" href="/Tips/assets/CentOS 修改 Vim 编辑器配色.html.021586e3.js"><link rel="prefetch" href="/Tips/assets/CentOS 修改显示主机名.html.8e5073ae.js"><link rel="prefetch" href="/Tips/assets/CentOS 增大 open files 的限制值.html.7f4c18e5.js"><link rel="prefetch" href="/Tips/assets/CentOS 安装 Composer.html.4c3f42cd.js"><link rel="prefetch" href="/Tips/assets/CentOS 安装 Java 17.html.b896e975.js"><link rel="prefetch" href="/Tips/assets/CentOS 安装 Nginx 服务.html.a45026b1.js"><link rel="prefetch" href="/Tips/assets/CentOS 安装 Node.js.html.1c7e446c.js"><link rel="prefetch" href="/Tips/assets/CentOS 安装 Redis.html.5e3b57f0.js"><link rel="prefetch" href="/Tips/assets/CentOS 安装 Squid 实现 HTTP 代理.html.c0f6631a.js"><link rel="prefetch" href="/Tips/assets/CentOS 显示欢迎语.html.7c9f26f7.js"><link rel="prefetch" href="/Tips/assets/CentOS 登录时显示磁盘使用情况.html.51cb49e3.js"><link rel="prefetch" href="/Tips/assets/CentOS 编译安装 PHP 的 Swoole 扩展.html.b66b19e8.js"><link rel="prefetch" href="/Tips/assets/CentOS 设置 NFS 共享.html.ed85d596.js"><link rel="prefetch" href="/Tips/assets/CentOS 设置 sshd 超时时间.html.b2813bbb.js"><link rel="prefetch" href="/Tips/assets/CSS 禁止文本选中.html.027c3e3e.js"><link rel="prefetch" href="/Tips/assets/Javascript 的几种函数声明和调用方式.html.035e0fae.js"><link rel="prefetch" href="/Tips/assets/Nginx 证书配置 跳转 反向代理.html.aac173dd.js"><link rel="prefetch" href="/Tips/assets/socket.io 无法在 vue 中直接使用的解决方法.html.6583d55c.js"><link rel="prefetch" href="/Tips/assets/vue_webpack 实现版本检查和版本更新.html.814e4aa6.js"><link rel="prefetch" href="/Tips/assets/适配 ios web app.html.255322f0.js"><link rel="prefetch" href="/Tips/assets/Electron打包Vue项目.html.3990217f.js"><link rel="prefetch" href="/Tips/assets/ffmpeg 的基本用法.html.b783f968.js"><link rel="prefetch" href="/Tips/assets/Git Bash 不能显示中文修正.html.5d0aea25.js"><link rel="prefetch" href="/Tips/assets/Putty使用技巧.html.a2bd1939.js"><link rel="prefetch" href="/Tips/assets/sublime 去除重复行.html.ddc96ff4.js"><link rel="prefetch" href="/Tips/assets/windows中hosts文件编辑.html.6befdef1.js"><link rel="prefetch" href="/Tips/assets/windows中编写脚本快速关机和重启.html.f4e88f4a.js"><link rel="prefetch" href="/Tips/assets/windows中通过运行快速启动软件.html.bba91e66.js"><link rel="prefetch" href="/Tips/assets/WinSCP使用技巧.html.16c1708a.js"><link rel="prefetch" href="/Tips/assets/批量删除豆瓣广播.html.910978f3.js"><link rel="prefetch" href="/Tips/assets/给 Promise 实现 finally 方法.html.462dd9ba.js"><link rel="prefetch" href="/Tips/assets/让 Git 不再跟踪配置文件的变化.html.7a0cd83c.js"><link rel="prefetch" href="/Tips/assets/Phaser 游戏引擎中场景的生命周期.html.471da25e.js"><link rel="prefetch" href="/Tips/assets/command.html.d3f74edf.js"><link rel="prefetch" href="/Tips/assets/controller.html.ec4cde92.js"><link rel="prefetch" href="/Tips/assets/crontab.html.7e499622.js"><link rel="prefetch" href="/Tips/assets/dao.html.b305c730.js"><link rel="prefetch" href="/Tips/assets/entity.html.becdb3c9.js"><link rel="prefetch" href="/Tips/assets/index.html.e37a6027.js"><link rel="prefetch" href="/Tips/assets/service.html.ade79362.js"><link rel="prefetch" href="/Tips/assets/Cocos 网络请求.html.e0227016.js"><link rel="prefetch" href="/Tips/assets/404.html.9b1637f3.js">
    <link rel="stylesheet" href="/Tips/assets/style.59e2529b.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/Tips/" class=""><!----><span class="site-name">日常小贴士</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a class="external-link" href="https://github.com/CATT-L/Tips" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a class="external-link" href="https://github.com/CATT-L/Tips" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">概述 <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/Tips/" class="sidebar-item" aria-label="日常小贴士"><!--[--><!--]--> 日常小贴士 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading active collapsible">CentOS <span class="down arrow"></span></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/Tips/CentOS/CentOS%20%E6%98%BE%E7%A4%BA%E6%AC%A2%E8%BF%8E%E8%AF%AD.html" class="sidebar-item" aria-label="CentOS 显示欢迎语"><!--[--><!--]--> CentOS 显示欢迎语 <!--[--><!--]--></a><!----></li><li><a href="/Tips/CentOS/CentOS%20%E7%99%BB%E5%BD%95%E6%97%B6%E6%98%BE%E7%A4%BA%E7%A3%81%E7%9B%98%E4%BD%BF%E7%94%A8%E6%83%85%E5%86%B5.html" class="sidebar-item" aria-label="CentOS 登录时显示磁盘使用情况"><!--[--><!--]--> CentOS 登录时显示磁盘使用情况 <!--[--><!--]--></a><!----></li><li><a href="/Tips/CentOS/CentOS%20%E4%BF%AE%E6%94%B9%E6%98%BE%E7%A4%BA%E4%B8%BB%E6%9C%BA%E5%90%8D.html" class="sidebar-item" aria-label="CentOS 修改显示主机名"><!--[--><!--]--> CentOS 修改显示主机名 <!--[--><!--]--></a><!----></li><li><a href="/Tips/CentOS/CentOS%20%E8%AE%BE%E7%BD%AE%20sshd%20%E8%B6%85%E6%97%B6%E6%97%B6%E9%97%B4.html" class="sidebar-item" aria-label="CentOS 设置 sshd 超时时间"><!--[--><!--]--> CentOS 设置 sshd 超时时间 <!--[--><!--]--></a><!----></li><li><a href="/Tips/CentOS/CentOS%20%E5%A2%9E%E5%A4%A7%20open%20files%20%E7%9A%84%E9%99%90%E5%88%B6%E5%80%BC.html" class="sidebar-item" aria-label="CentOS 增大 open files 的限制值"><!--[--><!--]--> CentOS 增大 open files 的限制值 <!--[--><!--]--></a><!----></li><li><a href="/Tips/CentOS/CentOS%20%E4%BC%98%E5%8C%96%20Linux%20%E5%86%85%E6%A0%B8%E5%8F%82%E6%95%B0.html" class="sidebar-item" aria-label="CentOS 优化 Linux 内核参数"><!--[--><!--]--> CentOS 优化 Linux 内核参数 <!--[--><!--]--></a><!----></li><li><a href="/Tips/CentOS/CentOS%20%E4%BF%AE%E6%94%B9%20Vim%20%E7%BC%96%E8%BE%91%E5%99%A8%E9%85%8D%E8%89%B2.html" class="sidebar-item" aria-label="CentOS 修改 Vim 编辑器配色"><!--[--><!--]--> CentOS 修改 Vim 编辑器配色 <!--[--><!--]--></a><!----></li><li><a href="/Tips/CentOS/CentOS%20%E8%AE%BE%E7%BD%AE%20NFS%20%E5%85%B1%E4%BA%AB.html" class="sidebar-item" aria-label="CentOS 设置 NFS 共享"><!--[--><!--]--> CentOS 设置 NFS 共享 <!--[--><!--]--></a><!----></li><li><a href="/Tips/CentOS/CentOS%20%E5%AE%89%E8%A3%85%20Redis.html" class="sidebar-item" aria-label="CentOS 安装 Redis"><!--[--><!--]--> CentOS 安装 Redis <!--[--><!--]--></a><!----></li><li><a href="/Tips/CentOS/CentOS%20%E5%AE%89%E8%A3%85%20Squid%20%E5%AE%9E%E7%8E%B0%20HTTP%20%E4%BB%A3%E7%90%86.html" class="sidebar-item" aria-label="CentOS 安装 Squid 实现 HTTP 代理"><!--[--><!--]--> CentOS 安装 Squid 实现 HTTP 代理 <!--[--><!--]--></a><!----></li><li><a href="/Tips/CentOS/CentOS%20%E5%AE%89%E8%A3%85%20Java%2017.html" class="sidebar-item" aria-label="CentOS 安装 Java 17"><!--[--><!--]--> CentOS 安装 Java 17 <!--[--><!--]--></a><!----></li><li><a href="/Tips/CentOS/CentOS%20%E5%AE%89%E8%A3%85%20Node.js.html" class="sidebar-item" aria-label="CentOS 安装 Node.js"><!--[--><!--]--> CentOS 安装 Node.js <!--[--><!--]--></a><!----></li><li><a href="/Tips/CentOS/CentOS%20%E5%AE%89%E8%A3%85%20Nginx%20%E6%9C%8D%E5%8A%A1.html" class="sidebar-item" aria-label="CentOS 安装 Nginx 服务"><!--[--><!--]--> CentOS 安装 Nginx 服务 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Tips/CentOS/CentOS%20%E5%AE%89%E8%A3%85%20PHP%207.3.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="CentOS 中安装 PHP  7.3"><!--[--><!--]--> CentOS 中安装 PHP  7.3 <!--[--><!--]--></a><!----></li><li><a href="/Tips/CentOS/CentOS%20%E5%AE%89%E8%A3%85%20Composer.html" class="sidebar-item" aria-label="CentOS 安装 Composer"><!--[--><!--]--> CentOS 安装 Composer <!--[--><!--]--></a><!----></li><li><a href="/Tips/CentOS/CentOS%20%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85%20PHP%20%E7%9A%84%20Swoole%20%E6%89%A9%E5%B1%95.html" class="sidebar-item" aria-label="CentOS 编译安装 PHP 的 Swoole 扩展"><!--[--><!--]--> CentOS 编译安装 PHP 的 Swoole 扩展 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">Web <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/Tips/Web/CSS%20%E7%A6%81%E6%AD%A2%E6%96%87%E6%9C%AC%E9%80%89%E4%B8%AD.html" class="sidebar-item" aria-label="CSS 禁止文本选中"><!--[--><!--]--> CSS 禁止文本选中 <!--[--><!--]--></a><!----></li><li><a href="/Tips/Web/Nginx%20%E8%AF%81%E4%B9%A6%E9%85%8D%E7%BD%AE%20%E8%B7%B3%E8%BD%AC%20%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86.html" class="sidebar-item" aria-label="Nginx 证书配置 跳转 反向代理"><!--[--><!--]--> Nginx 证书配置 跳转 反向代理 <!--[--><!--]--></a><!----></li><li><a href="/Tips/Web/Javascript%20%E7%9A%84%E5%87%A0%E7%A7%8D%E5%87%BD%E6%95%B0%E5%A3%B0%E6%98%8E%E5%92%8C%E8%B0%83%E7%94%A8%E6%96%B9%E5%BC%8F.html" class="sidebar-item" aria-label="Javascript 的几种函数声明和调用方式"><!--[--><!--]--> Javascript 的几种函数声明和调用方式 <!--[--><!--]--></a><!----></li><li><a href="/Tips/Web/socket.io%20%E6%97%A0%E6%B3%95%E5%9C%A8%20vue%20%E4%B8%AD%E7%9B%B4%E6%8E%A5%E4%BD%BF%E7%94%A8%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95.html" class="sidebar-item" aria-label="socket.io 无法在 vue 中直接使用的解决方法"><!--[--><!--]--> socket.io 无法在 vue 中直接使用的解决方法 <!--[--><!--]--></a><!----></li><li><a href="/Tips/Web/vue+webpack%20%E5%AE%9E%E7%8E%B0%E7%89%88%E6%9C%AC%E6%A3%80%E6%9F%A5%E5%92%8C%E7%89%88%E6%9C%AC%E6%9B%B4%E6%96%B0.html" class="sidebar-item" aria-label="vue+webpack 实现版本检查和版本更新"><!--[--><!--]--> vue+webpack 实现版本检查和版本更新 <!--[--><!--]--></a><!----></li><li><a href="/Tips/Web/%E9%80%82%E9%85%8D%20ios%20web%20app.html" class="sidebar-item" aria-label="适配 ios web app"><!--[--><!--]--> 适配 ios web app <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">游戏 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item">Cocos <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/Tips/%E6%B8%B8%E6%88%8F/Cocos/Cocos%20%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82.html" class="sidebar-item" aria-label="Cocos 网络请求"><!--[--><!--]--> Cocos 网络请求 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/Tips/%E6%B8%B8%E6%88%8F/Phaser%20%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E4%B8%AD%E5%9C%BA%E6%99%AF%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.html" class="sidebar-item" aria-label="Phaser 游戏引擎中场景的生命周期"><!--[--><!--]--> Phaser 游戏引擎中场景的生命周期 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">其他 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/Tips/%E5%85%B6%E4%BB%96/%E7%BB%99%20Promise%20%E5%AE%9E%E7%8E%B0%20finally%20%E6%96%B9%E6%B3%95.html" class="sidebar-item" aria-label="给 Promise 实现 finally 方法"><!--[--><!--]--> 给 Promise 实现 finally 方法 <!--[--><!--]--></a><!----></li><li><a href="/Tips/%E5%85%B6%E4%BB%96/Electron%E6%89%93%E5%8C%85Vue%E9%A1%B9%E7%9B%AE.html" class="sidebar-item" aria-label="Electron打包Vue项目"><!--[--><!--]--> Electron打包Vue项目 <!--[--><!--]--></a><!----></li><li><a href="/Tips/%E5%85%B6%E4%BB%96/%E6%89%B9%E9%87%8F%E5%88%A0%E9%99%A4%E8%B1%86%E7%93%A3%E5%B9%BF%E6%92%AD.html" class="sidebar-item" aria-label="批量删除豆瓣广播"><!--[--><!--]--> 批量删除豆瓣广播 <!--[--><!--]--></a><!----></li><li><a href="/Tips/%E5%85%B6%E4%BB%96/ffmpeg%20%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95.html" class="sidebar-item" aria-label="ffmpeg 的基本用法"><!--[--><!--]--> ffmpeg 的基本用法 <!--[--><!--]--></a><!----></li><li><a href="/Tips/%E5%85%B6%E4%BB%96/windows%E4%B8%ADhosts%E6%96%87%E4%BB%B6%E7%BC%96%E8%BE%91.html" class="sidebar-item" aria-label="windows中hosts文件编辑"><!--[--><!--]--> windows中hosts文件编辑 <!--[--><!--]--></a><!----></li><li><a href="/Tips/%E5%85%B6%E4%BB%96/%E8%AE%A9%20Git%20%E4%B8%8D%E5%86%8D%E8%B7%9F%E8%B8%AA%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E7%9A%84%E5%8F%98%E5%8C%96.html" class="sidebar-item" aria-label="让 Git 不再跟踪配置文件的变化"><!--[--><!--]--> 让 Git 不再跟踪配置文件的变化 <!--[--><!--]--></a><!----></li><li><a href="/Tips/%E5%85%B6%E4%BB%96/Git%20Bash%20%E4%B8%8D%E8%83%BD%E6%98%BE%E7%A4%BA%E4%B8%AD%E6%96%87%E4%BF%AE%E6%AD%A3.html" class="sidebar-item" aria-label="Git Bash 不能显示中文修正"><!--[--><!--]--> Git Bash 不能显示中文修正 <!--[--><!--]--></a><!----></li><li><a href="/Tips/%E5%85%B6%E4%BB%96/windows%E4%B8%AD%E7%BC%96%E5%86%99%E8%84%9A%E6%9C%AC%E5%BF%AB%E9%80%9F%E5%85%B3%E6%9C%BA%E5%92%8C%E9%87%8D%E5%90%AF.html" class="sidebar-item" aria-label="windows中编写脚本快速关机和重启"><!--[--><!--]--> windows中编写脚本快速关机和重启 <!--[--><!--]--></a><!----></li><li><a href="/Tips/%E5%85%B6%E4%BB%96/Putty%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7.html" class="sidebar-item" aria-label="Putty使用技巧"><!--[--><!--]--> Putty使用技巧 <!--[--><!--]--></a><!----></li><li><a href="/Tips/%E5%85%B6%E4%BB%96/windows%E4%B8%AD%E9%80%9A%E8%BF%87%E8%BF%90%E8%A1%8C%E5%BF%AB%E9%80%9F%E5%90%AF%E5%8A%A8%E8%BD%AF%E4%BB%B6.html" class="sidebar-item" aria-label="windows中通过运行快速启动软件"><!--[--><!--]--> windows中通过运行快速启动软件 <!--[--><!--]--></a><!----></li><li><a href="/Tips/%E5%85%B6%E4%BB%96/sublime%20%E5%8E%BB%E9%99%A4%E9%87%8D%E5%A4%8D%E8%A1%8C.html" class="sidebar-item" aria-label="Sublime Text 3 去除文本重复行的正则表达式"><!--[--><!--]--> Sublime Text 3 去除文本重复行的正则表达式 <!--[--><!--]--></a><!----></li><li><a href="/Tips/%E5%85%B6%E4%BB%96/WinSCP%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7.html" class="sidebar-item" aria-label="WInSCP 使用技巧"><!--[--><!--]--> WInSCP 使用技巧 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="centos-中安装-php-7-3" tabindex="-1"><a class="header-anchor" href="#centos-中安装-php-7-3" aria-hidden="true">#</a> CentOS 中安装 PHP 7.3</h1><h4 id="php-下载地址" tabindex="-1"><a class="header-anchor" href="#php-下载地址" aria-hidden="true">#</a> PHP 下载地址</h4><p>https://www.php.net/downloads.php</p><h4 id="安装依赖" tabindex="-1"><a class="header-anchor" href="#安装依赖" aria-hidden="true">#</a> 安装依赖</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>yum <span class="token parameter variable">-y</span> <span class="token function">install</span> <span class="token function">curl</span> curl-devel libxml2 libxml2-devel libjpeg libjpeg-devel libpng libpng-devel freetype freetype-devel zlib zlib-devel openssl openssl-devel openldap openldap-devel nss_ldap openldap-clients openldap-servers <span class="token function">bzip2</span> bzip2-devel

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="下载-php" tabindex="-1"><a class="header-anchor" href="#下载-php" aria-hidden="true">#</a> 下载 PHP</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">wget</span> https://www.php.net/distributions/php-7.3.8.tar.gz

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="下载其它支持库" tabindex="-1"><a class="header-anchor" href="#下载其它支持库" aria-hidden="true">#</a> 下载其它支持库</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">wget</span> http://ftp.gnu.org/pub/gnu/libiconv/libiconv-1.15.tar.gz
<span class="token function">wget</span> http://jaist.dl.sourceforge.net/project/mcrypt/Libmcrypt/2.5.8/libmcrypt-2.5.8.tar.gz
<span class="token function">wget</span> http://jaist.dl.sourceforge.net/project/mcrypt/MCrypt/2.6.8/mcrypt-2.6.8.tar.gz
<span class="token function">wget</span> http://jaist.dl.sourceforge.net/project/mhash/mhash/0.9.9.9/mhash-0.9.9.9.tar.gz
<span class="token function">wget</span> http://www.imagemagick.org/download/ImageMagick-7.0.8-28.tar.gz
<span class="token function">wget</span> http://pecl.php.net/get/imagick-3.4.3.tgz
<span class="token function">wget</span> https://libzip.org/download/libzip-1.5.1.tar.gz
<span class="token function">wget</span> https://github.com/Kitware/CMake/releases/download/v3.15.2/cmake-3.15.2.tar.gz

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="编译安装-php-所需的支持库" tabindex="-1"><a class="header-anchor" href="#编译安装-php-所需的支持库" aria-hidden="true">#</a> 编译安装 PHP 所需的支持库</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">tar</span> zxvf libiconv-1.15.tar.gz
<span class="token builtin class-name">cd</span> libiconv-1.15
./configure <span class="token parameter variable">--prefix</span><span class="token operator">=</span>/usr/local
<span class="token function">make</span> <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token function">install</span>
<span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>/

<span class="token function">tar</span> zxvf libmcrypt-2.5.8.tar.gz
<span class="token builtin class-name">cd</span> libmcrypt-2.5.8/
./configure
<span class="token function">make</span> <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token function">install</span>
ldconfig

<span class="token builtin class-name">cd</span> libltdl/
./configure --enable-ltdl-install
<span class="token function">make</span> <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token function">install</span>
<span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>/<span class="token punctuation">..</span>/

<span class="token function">tar</span> zxvf mhash-0.9.9.9.tar.gz
<span class="token builtin class-name">cd</span> mhash-0.9.9.9/
./configure
<span class="token function">make</span> <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token function">install</span>
<span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>/

<span class="token function">ln</span> <span class="token parameter variable">-s</span> /usr/local/lib/libmcrypt.la /usr/lib/libmcrypt.la
<span class="token function">ln</span> <span class="token parameter variable">-s</span> /usr/local/lib/libmcrypt.so /usr/lib/libmcrypt.so
<span class="token function">ln</span> <span class="token parameter variable">-s</span> /usr/local/lib/libmcrypt.so.4 /usr/lib/libmcrypt.so.4
<span class="token function">ln</span> <span class="token parameter variable">-s</span> /usr/local/lib/libmcrypt.so.4.4.8 /usr/lib/libmcrypt.so.4.4.8
<span class="token function">ln</span> <span class="token parameter variable">-s</span> /usr/local/lib/libmhash.a /usr/lib/libmhash.a
<span class="token function">ln</span> <span class="token parameter variable">-s</span> /usr/local/lib/libmhash.la /usr/lib/libmhash.la
<span class="token function">ln</span> <span class="token parameter variable">-s</span> /usr/local/lib/libmhash.so /usr/lib/libmhash.so
<span class="token function">ln</span> <span class="token parameter variable">-s</span> /usr/local/lib/libmhash.so.2 /usr/lib/libmhash.so.2
<span class="token function">ln</span> <span class="token parameter variable">-s</span> /usr/local/lib/libmhash.so.2.0.1 /usr/lib/libmhash.so.2.0.1
<span class="token function">ln</span> <span class="token parameter variable">-s</span> /usr/local/bin/libmcrypt-config /usr/bin/libmcrypt-config

<span class="token function">tar</span> zxvf mcrypt-2.6.8.tar.gz
<span class="token builtin class-name">cd</span> mcrypt-2.6.8/
/sbin/ldconfig
./configure
<span class="token function">make</span> <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token function">install</span>
<span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>/

<span class="token function">tar</span> xzvf cmake-3.15.2.tar.gz
<span class="token builtin class-name">cd</span> cmake-3.15.2/
./configure
<span class="token function">make</span> <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token function">install</span>
<span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>/

yum remove <span class="token parameter variable">-y</span> libzip

<span class="token function">tar</span> zxvf libzip-1.5.1.tar.gz 
<span class="token builtin class-name">cd</span> libzip-1.5.1
<span class="token function">mkdir</span> build <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> build <span class="token operator">&amp;&amp;</span> cmake <span class="token punctuation">..</span> <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token function">install</span>
<span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>/<span class="token punctuation">..</span>/

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="编译安装-php" tabindex="-1"><a class="header-anchor" href="#编译安装-php" aria-hidden="true">#</a> 编译安装 PHP</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>echo /usr/local/lib &gt;&gt; /etc/ld.so.conf
echo /usr/local/lib64 &gt;&gt; /etc/ld.so.conf
ldconfig

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">tar</span> zxvf php-7.3.8.tar.gz
<span class="token builtin class-name">cd</span> php-7.3.8
<span class="token function">cp</span> <span class="token parameter variable">-frp</span> /usr/lib64/libldap* /usr/lib

./configure <span class="token parameter variable">--prefix</span><span class="token operator">=</span>/usr/local/webserver/php --with-config-file-path<span class="token operator">=</span>/usr/local/webserver/php/etc --with-mysql<span class="token operator">=</span>mysqlnd --with-mysqli<span class="token operator">=</span>mysqlnd --with-pdo-mysql<span class="token operator">=</span>mysqlnd --with-iconv-dir<span class="token operator">=</span>/usr/local --with-freetype-dir --with-jpeg-dir --with-png-dir --with-zlib --with-libxml-dir<span class="token operator">=</span>/usr --enable-xml --disable-rpath --enable-bcmath --enable-shmop --enable-sysvsem --enable-inline-optimization --with-curl --enable-mbregex --enable-fpm --enable-mbstring --with-mcrypt --with-gd --enable-gd-native-ttf --with-openssl --with-mhash --enable-pcntl --enable-sockets --with-ldap --with-ldap-sasl --with-xmlrpc --enable-zip --enable-soap --enable-opcache --enable-exif

<span class="token function">make</span> <span class="token assign-left variable">ZEND_EXTRA_LIBS</span><span class="token operator">=</span><span class="token string">&#39;-liconv&#39;</span>
<span class="token function">make</span> <span class="token function">install</span>
<span class="token function">cp</span> php.ini-production /usr/local/webserver/php/etc/php.ini
<span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>/

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>创建软链</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">ln</span> <span class="token parameter variable">-s</span> /usr/local/webserver/php/bin/php /usr/bin/
<span class="token function">ln</span> <span class="token parameter variable">-s</span> /usr/local/webserver/php/bin/phpize /usr/bin/

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="编译安装-php-扩展模块" tabindex="-1"><a class="header-anchor" href="#编译安装-php-扩展模块" aria-hidden="true">#</a> 编译安装 PHP 扩展模块</h4><p>下面的安装会返回一个类似如下的字符串, 记住它</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>Installing shared extensions:     /usr/local/webserver/php/lib/php/extensions/no-debug-non-zts-20180731/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><p>ImageMagick</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">tar</span> xzvf ImageMagick-7.0.8-10.tar.gz
<span class="token builtin class-name">cd</span> ImageMagick-7.0.8-10
./configure
<span class="token function">make</span> <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token function">install</span>
<span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>/
<span class="token function">ln</span> <span class="token parameter variable">-s</span> /usr/local/include/ImageMagick-7 /usr/local/include/ImageMagick
<span class="token builtin class-name">export</span> <span class="token assign-left variable">PKG_CONFIG_PATH</span><span class="token operator">=</span>/usr/local/lib/pkgconfig

<span class="token function">tar</span> zxvf imagick-3.4.3.tgz
<span class="token builtin class-name">cd</span> imagick-3.4.3
/usr/local/webserver/php/bin/phpize
./configure --with-php-config<span class="token operator">=</span>/usr/local/webserver/php/bin/php-config
<span class="token function">make</span> <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token function">install</span>
<span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>/

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>redis</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">git</span> clone git://github.com/nicolasff/phpredis
<span class="token builtin class-name">cd</span> phpredis
<span class="token function">git</span> submodule init
<span class="token function">git</span> submodule update
/usr/local/webserver/php/bin/phpize
./configure --with-php-config<span class="token operator">=</span>/usr/local/webserver/php/bin/php-config
<span class="token function">make</span> <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token function">install</span>
<span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>/

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h4 id="修改-php-ini-文件" tabindex="-1"><a class="header-anchor" href="#修改-php-ini-文件" aria-hidden="true">#</a> 修改 php.ini 文件</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">vi</span> /usr/local/webserver/php/etc/php.ini
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查找</p><div class="language-conf ext-conf line-numbers-mode"><pre class="language-conf"><code>; extension_dir = &quot;./&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>修改为刚刚返回的字符串, 注意去掉前面的分号;</p><div class="language-conf ext-conf line-numbers-mode"><pre class="language-conf"><code>extension_dir = &quot;/usr/local/webserver/php/lib/php/extensions/no-debug-non-zts-20180731/&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>并在此行下增加几行</p><div class="language-conf ext-conf line-numbers-mode"><pre class="language-conf"><code>extension = &quot;imagick.so&quot;
extension = &quot;redis.so&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>查找</p><div class="language-conf ext-conf line-numbers-mode"><pre class="language-conf"><code>;always_populate_raw_post_data
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>修改为, 若没有则添加</p><div class="language-conf ext-conf line-numbers-mode"><pre class="language-conf"><code>always_populate_raw_post_data = On
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查找</p><div class="language-conf ext-conf line-numbers-mode"><pre class="language-conf"><code>;cgi.fix_pathinfo=1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>修改为</p><div class="language-conf ext-conf line-numbers-mode"><pre class="language-conf"><code>cgi.fix_pathinfo=0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查找</p><div class="language-conf ext-conf line-numbers-mode"><pre class="language-conf"><code>;date.timezone =
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>修改为</p><div class="language-conf ext-conf line-numbers-mode"><pre class="language-conf"><code>date.timezone = Asia/Hong_Kong 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="创建-php-fpm-配置文件" tabindex="-1"><a class="header-anchor" href="#创建-php-fpm-配置文件" aria-hidden="true">#</a> 创建 php-fpm 配置文件</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /usr/local/webserver/php/etc/
<span class="token function">mv</span> php-fpm.conf.default php-fpm.conf
<span class="token function">vi</span> /usr/local/webserver/php/etc/php-fpm.conf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>需要修改的几个地方</p><div class="language-conf ext-conf line-numbers-mode"><pre class="language-conf"><code>pid = run/php-fpm.pid
error_log = log/php-fpm.log
process_control_timeout = 5s
rlimit_files = 65535
rlimit_core = 0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">mv</span> php-fpm.d/www.conf.default php-fpm.d/www.conf
<span class="token function">vi</span> /usr/local/webserver/php/etc/php-fpm.d/www.conf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>需要修改的几个地方</p><div class="language-conf ext-conf line-numbers-mode"><pre class="language-conf"><code>listen.backlog = 128
pm = static
pm.max_children = 128
pm.start_servers = 20
pm.min_spare_servers = 5
pm.max_spare_servers = 35
pm.max_requests = 1024
rlimit_core = 0
catch_workers_output = yes
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>启动 php-cgi 进程, 监听 127.0.0.1 的 9000 端口, 进程数为 128, 若服务器内存小于 3GB, 可以改为 64 进程, 用户为 www;</p><p>回到 php 源码目录, 编辑 php-fpm.service</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">vi</span> sapi/fpm/php-fpm.service
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-conf ext-conf line-numbers-mode"><pre class="language-conf"><code>[Unit]
Description=The PHP FastCGI Process Manager
After=network.target

[Service]
Type=simple
PIDFile=/usr/local/webserver/php/var/run/php-fpm.pid
ExecStart=/usr/local/webserver/php/sbin/php-fpm --nodaemonize --fpm-config /usr/local/webserver/php/etc/php-fpm.conf
ExecReload=/bin/kill -USR2 $MAINPID
PrivateTmp=true

[Install]
WantedBy=multi-user.target
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>并没有什么需要编辑的, 直接将 <code>php-fpm.service</code> 复制到 <code>/usr/lib/systemd/system/</code> 目录下</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">cp</span> sapi/fpm/php-fpm.service /usr/lib/systemd/system/
<span class="token builtin class-name">ulimit</span> <span class="token parameter variable">-SHn</span> <span class="token number">65535</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>启动</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">service</span> php-fpm start
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>重启</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">service</span> php-fpm restart
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>关闭</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">service</span> php-fpm stop
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="删除安装完的文件夹" tabindex="-1"><a class="header-anchor" href="#删除安装完的文件夹" aria-hidden="true">#</a> 删除安装完的文件夹</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">rm</span> <span class="token parameter variable">-rf</span> cmake-3.15.2 ImageMagick-7.0.8-10 imagick-3.4.3 libiconv-1.15 libmcrypt-2.5.8 libzip-1.5.1 mhash-0.9.9.9 php-7.3.8 phpredis
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="在-nginx-中调用-php" tabindex="-1"><a class="header-anchor" href="#在-nginx-中调用-php" aria-hidden="true">#</a> 在 Nginx 中调用 PHP</h4><p>创建 <code>fcgi.conf</code> 文件</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">vi</span> /usr/local/webserver/nginx/conf/fcgi.conf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>输入以下内容</p><div class="language-conf ext-conf line-numbers-mode"><pre class="language-conf"><code>fastcgi_param  GATEWAY_INTERFACE  CGI/1.1;
fastcgi_param  SERVER_SOFTWARE    nginx;

fastcgi_param  QUERY_STRING       $query_string;
fastcgi_param  REQUEST_METHOD     $request_method;
fastcgi_param  CONTENT_TYPE       $content_type;
fastcgi_param  CONTENT_LENGTH     $content_length;

fastcgi_param  SCRIPT_FILENAME    $document_root$fastcgi_script_name;
fastcgi_param  SCRIPT_NAME        $fastcgi_script_name;
fastcgi_param  REQUEST_URI        $request_uri;
fastcgi_param  DOCUMENT_URI       $document_uri;
fastcgi_param  DOCUMENT_ROOT      $document_root;
fastcgi_param  SERVER_PROTOCOL    $server_protocol;

fastcgi_param  REMOTE_ADDR        $remote_addr;
fastcgi_param  REMOTE_PORT        $remote_port;
fastcgi_param  SERVER_ADDR        $server_addr;
fastcgi_param  SERVER_PORT        $server_port;
fastcgi_param  SERVER_NAME        $server_name;

# PHP only, required if PHP was built with --enable-force-cgi-redirect
fastcgi_param  REDIRECT_STATUS    200;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>配置虚拟主机</p><p>在 <code>server</code> 层级下加入以下内容</p><div class="language-conf ext-conf line-numbers-mode"><pre class="language-conf"><code>location ~ .*\.(php|php5)?$
{      
  fastcgi_pass  127.0.0.1:9000;
  fastcgi_index index.php;
  include fcgi.conf;
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>更新 Nginx 配置</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>nginx <span class="token parameter variable">-s</span> reload
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/CATT-L/Tips/edit/develop/docs/CentOS/CentOS 安装 PHP 7.3.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page"><!--[--><!--]--> Edit this page <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: github@catt-l.com">CATT-L</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/Tips/CentOS/CentOS%20%E5%AE%89%E8%A3%85%20Nginx%20%E6%9C%8D%E5%8A%A1.html" class="" aria-label="CentOS 安装 Nginx 服务"><!--[--><!--]--> CentOS 安装 Nginx 服务 <!--[--><!--]--></a></span><span class="next"><a href="/Tips/CentOS/CentOS%20%E5%AE%89%E8%A3%85%20Composer.html" class="" aria-label="CentOS 安装 Composer"><!--[--><!--]--> CentOS 安装 Composer <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/Tips/assets/app.e4e1650e.js" defer></script>
  </body>
</html>
